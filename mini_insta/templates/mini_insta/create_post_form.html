<!--
    File: mini_insta/create_post_form.html
    Author: William Fugate wfugate@bu.edu
    Description: template to display form for creating a new post.
-->

{% extends 'mini_insta/base.html' %}

{% block content %}
    {% if user.is_authenticated %} <!--added check to protect page from unauthorized users-->
    <h2>Create New Post</h2>
    
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        
        <table>
            {{ form.as_table }}
            <tr>
                <td><label for="image_url">Image URL:</label></td>
                <td><input type="file" name="image_file" id="image_file" size="50" multiple></td>
            </tr>
            <tr>
                <td></td>
                <td>
                    <button type="submit">Create Post</button>
                    <a href="{% url 'show_profile' profile.pk %}">Cancel</a>
                </td>
            </tr>
        </table>
    </form>
    {% else %}
        <p>You must be logged in to create a post.</p>
    {% endif %}
{% endblock %}